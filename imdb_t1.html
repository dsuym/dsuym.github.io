<!DOCTYPE html>

<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<style> circle {fill: lightblue; stroke: black;} </style>
<body onload='init()'>
<svg width=300 height=300>
</svg>
<script>
async function init() {
  const data = await d3.csv('https://dsuym.github.io/IMDb_Top_250_Movies.csv');
  var xs = d3.scaleLinear().domain([1920,2024]).range([0,200])
  var ys = d3.scaleLog().domain([30000,3000000]).range([200,0])
  var cl = d3.scaleBand().domain(["12","12A","15","18","A","AA","PG","R","U","X"]).range(["blue","red"])
  d3.select('svg')
    .append('g')
      .attr('transform', 'translate(50,50)')
    .selectAll('circle')
      .data(data)
      .enter()
      .append('circle')
        .attr('cx', function(d){return xs(d.Release_Year);})
        .attr('cy', function(d){return ys(d.Votes);})
        .attr('r', function(d){return 5;})
        .attr('fill', function(d){return "red";})

  d3.select('svg')
    .append('g')
    .attr('transform', 'translate(50,50)')
    .call(d3.axisLeft(ys).tickValues([30000,300000,3000000]).tickFormat(d3.format('~s')))


  d3.select('svg')
    .append('g')
    .attr('transform', 'translate(50,250)')
    .call(d3.axisBottom(xs).tickValues([1920,1940,1960,1980,2000,2020]).tickFormat(d3.format('~s')))

  }
</script>
</body>
</html>
